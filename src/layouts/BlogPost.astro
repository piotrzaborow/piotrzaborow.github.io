---
import type { CollectionEntry } from 'astro:content'
import BaseHead from '../components/BaseHead.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import FormattedDate from '../components/FormattedDate.astro'
import Tag from '../components/Tag.astro'

type Props = CollectionEntry<'blog'>['data']

const { title, pubDate, upDate, tag } = Astro.props
---

<html lang='en'>
	<head>
		<BaseHead title={title} />
	</head>

	<body>
		<Header />
		<main>
			<article>
				<div class='bg-regal-blue text-white p-8 2xl:px-40'>
					<FormattedDate date={pubDate} />
					{
						upDate && (
							<div class='text-sm'>
								Last updated on <FormattedDate date={upDate} />
							</div>
						)
					}
					<h1 class='text-3xl'>{title}</h1>
					<div class='flex items-center gap-2 mt-2'>
						<Tag tag={tag} withBg/>
					</div>
				</div>
				<div class="text-justify 2xl:mx-40 min-h-[calc(100vh-428px)]">
					<slot />
				</div>
			</article>

			<Footer />
		</main>
	</body>
</html>
